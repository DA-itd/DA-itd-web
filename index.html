<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <title>Sistema de Inscripción - Instituto Tecnológico de Durango</title>
    
    <!-- Favicon (opcional) -->
    <link rel="icon" type="image/png" href="https://raw.githubusercontent.com/DA-itd/web/main/logo_itdurango.png">
    
    <!-- Tailwind CSS desde CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Estilos Personalizados -->
    <style>
        /* =============================================================================
           RESET Y ESTILOS BASE
           ============================================================================= */
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
                'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
                sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            background-color: #f3f4f6;
        }

        #root {
            min-height: 100vh;
        }

        /* =============================================================================
           ANIMACIONES PERSONALIZADAS
           ============================================================================= */

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: scale(0.95);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .animate-fadeIn {
            animation: fadeIn 0.3s ease-out;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-slideDown {
            animation: slideDown 0.4s ease-out;
        }

        /* =============================================================================
           UTILIDADES ADICIONALES
           ============================================================================= */

        /* Scroll suave */
        html {
            scroll-behavior: smooth;
        }

        /* Ocultar scrollbar pero mantener funcionalidad */
        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }

        .hide-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        /* Loading spinner personalizado */
        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        .animate-spin {
            animation: spin 1s linear infinite;
        }

        /* Transiciones suaves para botones */
        button {
            transition: all 0.2s ease-in-out;
        }

        /* Mejora de contraste para accesibilidad */
        .text-shadow {
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }

        /* Efecto de hover para cards */
        .card-hover {
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }

        /* =============================================================================
           ESTILOS PARA IMPRESIÓN (opcional)
           ============================================================================= */

        @media print {
            body {
                background: white;
            }
            
            button,
            nav,
            .no-print {
                display: none !important;
            }
        }

        /* =============================================================================
           RESPONSIVE UTILITIES
           ============================================================================= */

        @media (max-width: 640px) {
            /* Mejoras para pantallas pequeñas */
            h1 {
                font-size: 1.25rem;
            }
            
            h2 {
                font-size: 1.125rem;
            }
        }
    </style>

    <!-- Configuración de la aplicación -->
    <script>
        // =============================================================================
        // CONFIGURACIÓN GLOBAL
        // =============================================================================
        
        window.CONFIG = {
            // ⚠️ IMPORTANTE: Reemplaza esta URL con la de tu Apps Script desplegado
            APPS_SCRIPT_URL: 'https://script.google.com/macros/s/AKfycby_ESgq4InYsgJMqbsJz_je6M62PQ8uFFwiNwrHUuPt-131BxiiesiXf4wuEORrr7Cd4A/exec',
            
            // Configuración adicional
            APP_NAME: 'Sistema de Inscripción ITD',
            INSTITUTION: 'Instituto Tecnológico de Durango',
            REQUEST_TIMEOUT: 30000, // 30 segundos
            MAX_COURSES_PER_STUDENT: 3,
            MIN_CURP_LENGTH: 18,
            MAX_CURP_LENGTH: 18
        };

        // =============================================================================
        // MANEJO DE ERRORES GLOBAL
        // =============================================================================
        
        window.addEventListener('error', function(event) {
            console.error('Error detectado:', event.error);
            
            // Mostrar mensaje amigable al usuario
            if (event.error && event.error.message) {
                // Solo en desarrollo, en producción puedes comentar esto
                console.error('Detalles del error:', event.error.message);
            }
        });

        // Detectar errores de promesas no manejadas
        window.addEventListener('unhandledrejection', function(event) {
            console.error('Promesa rechazada no manejada:', event.reason);
            event.preventDefault();
        });

        // =============================================================================
        // FUNCIÓN DE VALIDACIÓN DE CONFIGURACIÓN
        // =============================================================================
        
        window.addEventListener('DOMContentLoaded', function() {
            // Verificar que la URL del Apps Script esté configurada
            if (!window.CONFIG.APPS_SCRIPT_URL || 
                window.CONFIG.APPS_SCRIPT_URL.includes('https://script.google.com/macros/s/AKfycby_ESgq4InYsgJMqbsJz_je6M62PQ8uFFwiNwrHUuPt-131BxiiesiXf4wuEORrr7Cd4A/exec')) {
                console.warn(
                    '⚠️ ADVERTENCIA: La URL del Apps Script no está configurada.\n' +
                    'Por favor, actualiza window.CONFIG.APPS_SCRIPT_URL en index.html'
                );
                
                // Mostrar alerta solo en desarrollo
                // alert('Configuración incompleta. Ver consola para más detalles.');
            }
        });
    </script>
</head>

<body>
    <!-- Contenedor principal de React -->
    <div id="root"></div>

    <!-- Mensaje de carga mientras React se inicializa -->
    <noscript>
        <div style="
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background: linear-gradient(135deg, #1e3a8a 0%, #3730a3 100%);
            color: white;
            text-align: center;
            padding: 20px;
            font-family: Arial, sans-serif;
        ">
            <div>
                <h1 style="font-size: 2rem; margin-bottom: 1rem;">
                    ⚠️ JavaScript Requerido
                </h1>
                <p style="font-size: 1.125rem;">
                    Este sistema requiere JavaScript habilitado para funcionar.
                </p>
                <p style="margin-top: 1rem; font-size: 0.875rem; opacity: 0.8;">
                    Por favor, habilita JavaScript en tu navegador y recarga la página.
                </p>
            </div>
        </div>
    </noscript>

    <!-- =============================================================================
         SCRIPTS EXTERNOS
         ============================================================================= -->

    <!-- React 18 - Producción -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    
    <!-- ReactDOM 18 - Producción -->
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>

    <!-- =============================================================================
         SCRIPT PRINCIPAL DE LA APLICACIÓN
         ============================================================================= -->

    <!-- Tu archivo TypeScript compilado a JavaScript -->
    <script src="index.tsx"></script>
    
    <!-- 
        NOTA: Si estás usando TypeScript (.tsx), necesitas compilarlo primero a .js
        Comandos comunes:
        - npx tsc index.tsx (si usas TypeScript Compiler)
        - npx babel index.tsx --out-file index.js (si usas Babel)
        
        O puedes usar directamente .tsx si tu servidor lo soporta
    -->

    <!-- =============================================================================
         SCRIPT DE INICIALIZACIÓN (Opcional)
         ============================================================================= -->

    <script>
        // Mostrar versión de React cargada
        console.log('%c Sistema de Inscripción ITD ', 
            'background: #1e3a8a; color: white; font-size: 16px; padding: 4px 8px; border-radius: 4px;');
        console.log('React version:', React.version);
        console.log('Configuración:', window.CONFIG);

        // Verificar que el elemento root existe
        if (!document.getElementById('root')) {
            console.error('❌ ERROR: No se encontró el elemento #root en el DOM');
        }
    </script>
</body>
</html>
