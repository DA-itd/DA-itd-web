<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Sistema de Inscripci√≥n a Cursos de Actualizaci√≥n Docente - Instituto Tecnol√≥gico de Durango">
    <meta name="keywords" content="ITD, cursos, actualizaci√≥n docente, inscripci√≥n">
    <meta name="author" content="Instituto Tecnol√≥gico de Durango">
    
    <title>Sistema de Inscripci√≥n a Cursos - ITD</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- React 18 (UMD - Variables Globales) -->
    <script crossorigin src="https://unpkg.com/react@18.2.0/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18.2.0/umd/react-dom.production.min.js"></script>
    
    <!-- Babel Standalone para transpilar JSX/TSX -->
    <script src="https://unpkg.com/@babel/standalone@7.23.5/babel.min.js"></script>
    
    <style>
        body { 
            font-family: 'Inter', sans-serif; 
            margin: 0;
            padding: 0;
        }
        
        /* Clase de accesibilidad */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }
        
        /* Loading spinner */
        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #3498db;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Smooth transitions */
        * {
            transition: background-color 0.2s ease, border-color 0.2s ease;
        }
    </style>
</head>
<body class="bg-gray-100">
    <!-- Contenedor principal de React -->
    <div id="root">
        <div style="display: flex; justify-content: center; align-items: center; height: 100vh; flex-direction: column;">
            <div class="spinner"></div>
            <p style="margin-top: 1rem; color: #4B5563;">Cargando aplicaci√≥n...</p>
        </div>
    </div>

    <!-- Configuraci√≥n de la aplicaci√≥n -->
    <script>
        // =====================================================
        // ‚ö†Ô∏è CONFIGURACI√ìN IMPORTANTE
        // =====================================================
        // Reemplaza APPS_SCRIPT_URL con la URL de tu Google Apps Script
        // Para obtenerla:
        // 1. Abre tu proyecto en Google Apps Script
        // 2. Click en "Implementar" > "Nueva implementaci√≥n"
        // 3. Tipo: "Aplicaci√≥n web"
        // 4. Ejecutar como: "Yo"
        // 5. Qui√©n tiene acceso: "Cualquier persona"
        // 6. Copia la URL generada
        // =====================================================
        
        window.CONFIG = {
            // üî¥ REEMPLAZAR CON TU URL REAL
            APPS_SCRIPT_URL: 'https://script.google.com/macros/s/AKfycby_ESgq4InYsgJMqbsJz_je6M62PQ8uFFwiNwrHUuPt-131BxiiesiXf4wuEORrr7Cd4A/exec',
            
            // Configuraci√≥n adicional de la aplicaci√≥n
            APP_NAME: 'Sistema de Inscripci√≥n a Cursos',
            INSTITUTION: 'Instituto Tecnol√≥gico de Durango',
            
            // Timeouts (en milisegundos)
            REQUEST_TIMEOUT: 30000, // 30 segundos
            
            // L√≠mites y validaciones
            MAX_COURSES_PER_STUDENT: 3,
            MIN_CURP_LENGTH: 18,
            MAX_CURP_LENGTH: 18
        };
        
        // Verificar que React se haya cargado correctamente
        if (typeof React === 'undefined' || typeof ReactDOM === 'undefined') {
            console.error('‚ùå Error: React no se carg√≥ correctamente');
            document.getElementById('root').innerHTML = 
                '<div style="text-align: center; padding: 2rem; max-width: 600px; margin: 0 auto;">' +
                '<h1 style="color: #DC2626;">Error al cargar la aplicaci√≥n</h1>' +
                '<p>React no se pudo cargar. Por favor:</p>' +
                '<ul style="text-align: left;">' +
                '<li>Verifica tu conexi√≥n a Internet</li>' +
                '<li>Recarga la p√°gina (Ctrl + F5)</li>' +
                '<li>Intenta en otro navegador</li>' +
                '</ul>' +
                '</div>';
        } else {
            console.log('‚úÖ React cargado correctamente');
        }
        
        // Manejo de errores global
        window.addEventListener('error', function(e) {
            console.error('‚ùå Error global capturado:', e.error);
        });
        
        window.addEventListener('unhandledrejection', function(e) {
            console.error('‚ùå Promesa rechazada no manejada:', e.reason);
        });
    </script>
    
    <!-- =====================================================
         C√≥digo principal de la aplicaci√≥n
         ===================================================== -->
    <script type="text/babel" data-type="module" data-presets="typescript,react" src="index.tsx"></script>
    
    <!-- Analytics (opcional - descomentar si se necesita) -->
    <!-- 
    <script>
        // Google Analytics o cualquier otro servicio de anal√≠ticas
    </script>
    -->
</body>
</html>